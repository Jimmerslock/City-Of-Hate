### SKAELINGER EVENTS

add_namespace = ska

### ORDORIAN WAR EVENTS

country_event = { #Ordoria Threatens Us
	id = ska.1
	title = ska.1.t
	desc = ska.1.d
	picture = GFX_report_event_generic_sign_treaty3
	
	is_triggered_only = yes
	
	option = {#Cave In
		name = ska.1.a
		ai_chance = {
			factor = 3
		}
		add_stability = -0.1
		add_war_support = -0.15
		add_political_power = -20
		
		diplomatic_relation = {
			country = RTH
			relation = guarantee
			active = no
		}
		
		diplomatic_relation = {
			country = RTH
			relation = military_access
			active = no
		}
		
		remove_opinion_modifier = {
			target = RTH
			modifier = staunch_allies
		}
		
		RTH = {
			country_event = {
				id = rth.3
				days = 1
			
			}
		}
	}
	
	option = {#Piss Off
		name = ska.1.b
		ai_chance = {
			factor = 5
		}
		add_stability = 0.05
		add_war_support = 0.1
		add_political_power = 20
	}
}

country_event = { #Ordoria Offers Peace
	id = ska.2
	title = ska.2.t
	desc = ska.2.d
	picture = GFX_report_event_german_italian_pact
	
	is_triggered_only = yes
	
	option = {#Very Well
		name = ska.2.a
		ai_chance = {
			factor = 7
		}
		add_stability = -0.1
		add_war_support = -0.15
		add_political_power = -20
		white_peace = ORD
	}
	
	option = {#Piss Off
		name = ska.2.b
		ai_chance = {
			factor = 1
		}
		add_stability = 0.05
		add_war_support = 0.1
		add_political_power = 20
	}
}

country_event = { #Offer Peace to Ordoria?
	id = ska.3
	title = ska.3.t
	desc = ska.3.d
	picture = GFX_report_event_german_reichstag_gathering
	
	mean_time_to_happen = {
		days = 4
	}
	
	trigger = {
		tag = SKA
		has_war_with = ORD
		NOT = {
			country_exists = RTH
		}
		NOT = {
			controls_state = 146
		}
	}
	
	fire_only_once = yes
	
	option = {#Very Well
		name = ska.3.a
		ai_chance = {
			factor = 7
		}
		add_stability = -0.1
		add_war_support = -0.15
		add_political_power = -20
		hidden_effect = {
			ORD = {
				country_event = {
					id = ord.30
					days = 1
				}
			}
		}
	}
	
	option = {#Piss Off
		name = ska.3.b
		ai_chance = {
			factor = 1
		}
		add_stability = 0.05
		add_war_support = 0.1
		add_political_power = 20
	}
}

country_event = { #Ordoria Accepts
	id = ska.4
	title = ska.4.t
	desc = ska.4.d
	picture = GFX_report_event_king_speech
	
	is_triggered_only = yes
	
	option = {
		name = ska.4.a
		white_peace = ORD
		add_political_power = -25
	}
}

country_event = { #Ordoria Demands Concessions
	id = ska.5
	title = ska.5.t
	desc = ska.5.d
	picture = GFX_report_event_german_reichstag_bombed
	
	is_triggered_only = yes
	
	option = { # Yes
		name = ska.5.a
		ai_chance = {
			factor = 7
		}
		white_peace = ORD
		ORD = {
			transfer_state = 155
			transfer_state = 153
			transfer_state = 150
			transfer_state = 154
			transfer_state = 188
			transfer_state = 180
			transfer_state = 165
			transfer_state = 161
			transfer_state = 184
			transfer_state = 147
			transfer_state = 191
			transfer_state = 189
			transfer_state = 120
			transfer_state = 181
			transfer_state = 121
			transfer_state = 178
		}
		hidden_effect = {
			ORD = {
				country_event = {
					id = ord.31
					days = 1
				}
			}
		}
		add_political_power = -35
	}
	
	option = { # No
		name = ska.5.b
		ai_chance = {
			factor = 1
		}
		hidden_effect = {
			ORD = {
				country_event = {
					id = ord.32
					days = 1
				}
			}
		}
	}
}

country_event = { #Ordoria Declines
	id = ska.6
	title = ska.6.t
	desc = ska.6.d
	picture = GFX_report_event_king_speech
	
	is_triggered_only = yes
	
	option = {
		name = ska.6.a
		add_political_power = -50
	}
}

country_event = { #Ordoria Demands Vassalization
	id = ska.7
	title = ska.7.t
	desc = ska.7.d
	picture = GFX_report_event_czech_soldiers_01
	
	is_triggered_only = yes
	
	option = { # Yes
		name = ska.7.a
		ai_chance = {
			factor = 6
		}
		hidden_effect = {
			ORD = {
				country_event = {
					id = ord.33
					days = 1
				}
			}
		}
		add_political_power = -50
	}
	
	option = { # No
		name = ska.7.b
		ai_chance = {
			factor = 5
		}
		hidden_effect = {
			ORD = {
				country_event = {
					id = ord.34
					days = 1
				}
			}
		}
		add_political_power = -50
	}
}

country_event = { #Second Rthaur Revolution
	id = ska.8
	title = ska.8.t
	desc = ska.8.d
	picture = GFX_report_event_czech_soldiers_01
	
	is_triggered_only = yes
	
	option = { # Yes
		trigger = {
			if = {
				limit = {
					NOT = {
						is_puppet_of = ORD
					}
				}
				is_puppet = no
			}
		}
		name = ska.8.a
		ai_chance = {
			factor = 9
		}
		if = {
			limit = {
				is_puppet_of = ORD
			}
			set_autonomy =  {
				target = SKA
				autonomy_state = autonomy_free
			}
		}
		if = {
			limit = {
				has_cosmetic_tag = SKA_OSG
			}
			drop_cosmetic_tag = yes
			kill_country_leader = yes
			set_popularities = {

				monarchy_absolute = 0

				monarchy_constitutional = 65
				
				republic_peasant = 15

				republic_aristocrat = 10

				republic_merchant = 5

				theocrat = 5

				puritan = 0

			}
			set_politics = {
				ruling_party = monarchy_constitutional
			}
		}
		
		if = {
			limit = {
				has_idea = OSG_settler_government
			}
			remove_ideas = OSG_settler_government
		}
		
		create_faction = "brotherhood_alliance"
		add_to_faction = SKA
		add_to_faction = RTH
		add_war_support = 0.1
		load_oob = "SKA_ii_rev"
		add_to_war = {
			targeted_alliance = RTH
			enemy = ORD
		}
		if = {
			limit = {
				NOT = {
					has_opinion_modifier = staunch_allies
				}
			}
			add_opinion_modifier = {
				target = RTH
				modifier = staunch_allies
			}
		}

		RTH = {
			country_event = {
				id = rth.11
				days = 2
			}
		}
	}
	
	option = { # No
		trigger = {
			if = {
				limit = {
					NOT = {
						is_puppet_of = ORD
					}
				}
				is_puppet = no
			}
		}
		name = ska.8.b
		ai_chance = {
			factor = 1
		}
		add_political_power = -50
		
		RTH = {
			country_event = {
				id = rth.12
				days = 2
			}
		}
	}
	
	option = { # We can't
		trigger = {
			if = {
				limit = {
					NOT = {
						is_puppet_of = ORD
					}
				}
				is_puppet = yes
			}
			NOT = {
				is_puppet_of = ORD
			}
		}
		name = ska.8.c
		ai_chance = {
			factor = 1
		}
		add_political_power = -5
		
		RTH = {
			country_event = {
				id = rth.13
				days = 2
			}
		}
	}
}

country_event = {#Troops Retreat from Rthauiaur
	id = ska.9
	title = ska.9.t
	desc = ska.9.d
	picture = GFX_report_event_ast_army
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 3
	}
	
	trigger = {
		original_tag = SKA
		OR = {
			NOT = {
				country_exists = RTH
			}
			RTH = {
				has_capitulated = yes
			}
		}
		OR = {
			divisions_in_state = {
				size > 0
				state = 128
			}
			divisions_in_state = {
				size > 0
				state = 143
			}divisions_in_state = {
				size > 0
				state = 145
			}
			divisions_in_state = {
				size > 0
				state = 137
			}
			divisions_in_state = {
				size > 0
				state = 138
			}
			divisions_in_state = {
				size > 0
				state = 132
			}
			divisions_in_state = {
				size > 0
				state = 131
			}
			divisions_in_state = {
				size > 0
				state = 130
			}
			divisions_in_state = {
				size > 0
				state = 127
			}
			divisions_in_state = {
				size > 0
				state = 129
			}
			divisions_in_state = {
				size > 0
				state = 126
			}
			divisions_in_state = {
				size > 0
				state = 122
			}
			divisions_in_state = {
				size > 0
				state = 125
			}
			divisions_in_state = {
				size > 0
				state = 123
			}
			divisions_in_state = {
				size > 0
				state = 124
			}
			divisions_in_state = {
				size > 0
				state = 139
			}
			divisions_in_state = {
				size > 0
				state = 142
			}
			divisions_in_state = {
				size > 0
				state = 133
			}
			divisions_in_state = {
				size > 0
				state = 118
			}
			divisions_in_state = {
				size > 0
				state = 134
			}
			divisions_in_state = {
				size > 0
				state = 136
			}
			divisions_in_state = {
				size > 0
				state = 135
			}
			divisions_in_state = {
				size > 0
				state = 119
			}
			divisions_in_state = {
				size > 0
				state = 144
			}
			divisions_in_state = {
				size > 0
				state = 143
			}
			divisions_in_state = {
				size > 0
				state = 140
			}
		}
	}
	
	option = {#Fall back and defend, enemy coming!
		name = ska.9.a
		hidden_effect = {
			ORD = {
				annex_country = {
					target = SKA
					transfer_troops = no
				}
			}
			every_state = {
				limit = {
					is_core_of = SKA
				}
				SKA = {
					transfer_state = PREV
				}
			}
			load_oob = "SKA_defend"
			ORD = {
				declare_war_on = {
					target = SKA
					type = annex_everything
				}
			}
		}
	}
}

### UNION EVENTS
country_event = { #Union Sends Aid
	id = ska.10
	title = ska.10.t
	desc = ska.10.d
	picture = GFX_report_event_french_liberation
	
	is_triggered_only = yes
	
	option = {
		name = ska.10.a
		UNG = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -2400
			}
			add_manpower = -2400
		}
		add_manpower = 2400
		
		remove_opinion_modifier = {
			target = UNG
			modifier = liked_opinion
		}
		
		UNG = {
			remove_opinion_modifier = {
				target = SKA
				modifier = liked_opinion
			}
			add_opinion_modifier = {
				target = SKA
				modifier = trusted_opinion
			}
			reverse_add_opinion_modifier = {
				target = SKA
				modifier = trusted_opinion
			}
		}
		
		hidden_effect = {
			load_oob = "SKA_union_volunteers"
			
			set_division_template_lock = {
				division_template = "Ungerdaler Expeditionary Force"
				is_locked = yes
			}
		}
	}
}

country_event = { #Union Assists Seventh Campaign
	id = ska.11
	title = ska.11.t
	desc = ska.11.d
	picture = GFX_report_event_french_liberation
	
	is_triggered_only = yes
	
	option = {
		name = ska.11.a
		
		custom_effect_tooltip = BER_assisted_terugkeer_tt
		
		set_country_flag = SKA_allowed_to_initiate_seventh_campaign
		
		remove_opinion_modifier = {
			target = UNG
			modifier = trusted_opinion
		}
		UNG = {
			remove_opinion_modifier = {
				target = SKA
				modifier = trusted_opinion
			}
			add_opinion_modifier = {
				target = SKA
				modifier = staunch_allies
			}
			reverse_add_opinion_modifier = {
				target = SKA
				modifier = staunch_allies
			}
		}
	}
}

country_event = {#Attend Nordtorf Summit?
	id = ska.12
	title = ska.12.t
	desc = ska.12.d
	picture = GFX_report_event_carol_meeting

	is_triggered_only = yes
	
	option = {#Yes
		name = ska.12.a
		ai_chance = {
			factor = 15
		}
		UNG = {
			country_event = {
				id = ung.62
				days = 3
			}
		}
		if = {
			limit = {
				UNG = {
					has_country_flag = UNG_backed_skaelinger_flag
				}
			}
			add_political_power = 125
			add_stability = 0.15
		}
	}
	
	option = {#No
		name = ska.12.b
		ai_chance = {
			factor = 1
			modifier = {
				UNG = {
					has_country_flag = UNG_backed_rimatu_flag
				}
				factor = 3
			}
		}
		UNG = {
			country_event = {
				id = ung.63
				days = 3
			}
		}
		if = {
			limit = {
				UNG = {
					has_country_flag = UNG_backed_rimatu_flag
				}
			}
			add_political_power = 125
			add_war_support = 0.15
		}
	}
}

country_event = { #Union Backs Us
	id = ska.13
	title = ska.13.t
	desc = ska.13.d
	picture = GFX_report_event_communists_cheer
	
	is_triggered_only = yes
	
	option = {
		name = ska.13.a
		
		add_political_power = 150
		add_stability = 0.1
	}
}

country_event = { #Union Backs Skyldske
	id = ska.14
	title = ska.14.t
	desc = ska.14.d
	picture = GFX_report_event_german_politician_speech
	
	is_triggered_only = yes
	
	option = {#I suppose
		name = ska.14.a
		
		ai_chance = {
			factor = 3
		}
		
		add_political_power = -35
		add_stability = -0.05
		
		UNG = {
			country_event = {
				id = ung.69
				days = 2
			}
		}
		
		RMT = {
			country_event = {
				id = rmt.5
				days = 2
			}
		}
	}
		
	option = {#Fuck that noise
		name = ska.14.b
		
		ai_chance = {
			factor = 10
			modifier = {
				has_relation_modifier = {
					target = UNG
					modifier = staunch_allies
				}
				factor = 0.1
			}
			modifier = {
				has_relation_modifier = {
					target = UNG
					modifier = trusted_opinion
				}
				factor = 0.5
			}
			modifier = {
				has_relation_modifier = {
					target = UNG
					modifier = liked_opinion
				}
				factor = 0.8
			}
		}
		
		add_political_power = -75
		add_stability = -0.15
		add_war_support = 0.15
		
		if = {
			limit = {
				has_relation_modifier = {
					target = UNG
					modifier = staunch_allies
				}
			}
		
			remove_opinion_modifier = {
				target = UNG
				modifier = staunch_allies
			}
			
			UNG = {
				remove_opinion_modifier = {
					target = SKA
					modifier = staunch_allies
				}
			}
		}
		
		if = {
			limit = {
				has_relation_modifier = {
					target = UNG
					modifier = trusted_opinion
				}
			}
		
			remove_opinion_modifier = {
				target = UNG
				modifier = trusted_opinion
			}
			
			UNG = {
				remove_opinion_modifier = {
					target = SKA
					modifier = trusted_opinion
				}
			}
		}
		
		if = {
			limit = {
				has_relation_modifier = {
					target = UNG
					modifier = liked_opinion
				}
			}
		
			remove_opinion_modifier = {
				target = UNG
				modifier = liked_opinion
			}
			
			UNG = {
				remove_opinion_modifier = {
					target = SKA
					modifier = liked_opinion
				}
			}
		}
			
		add_opinion_modifier = {
			target = UNG
			modifier = incredible_betrayal
		}
		
		reverse_add_opinion_modifier = {
			target = UNG
			modifier = dislike_opinion
		}
		
		UNG = {
			country_event = {
				id = ung.70
				days = 2
			}
		}
		RMT = {
			country_event = {
				id = rmt.6
				days = 2
			}
		}
	}
}

country_event = {#Rimatu Accepts
	id = ska.15
	title = ung.67.t #No sense in wasting good loc
	desc = ung.67.d
	picture = GFX_report_event_carol_meeting

	is_triggered_only = yes
	
	option = {#Huzzah
		name = ung.67.a
		add_stability = 0.05
		
		puppet = RMT
		
		remove_opinion_modifier = {
			target = RMT
			modifier = bitter_rivals
		}

		add_opinion_modifier = {
			target = RMT
			modifier = dislike_opinion
		}
		
		reverse_add_opinion_modifier = {
			target = RMT
			modifier = dislike_opinion
		}
		
		RMT = {
			remove_opinion_modifier = {
				target = SKA
				modifier = bitter_rivals
			}
		}
	}
}

country_event = {#Rimatu Declines
	id = ska.16
	title = ung.68.t #No sense in wasting good loc
	desc = ung.68.d
	picture = GFX_report_event_carol_meeting

	is_triggered_only = yes
	
	option = {#Oh shit
		name = ung.68.a
		add_war_support = 0.05
	}
}

country_event = {#Union DoW's Rimatü
	id = ska.17
	title = ska.17.t
	desc = ska.17.d
	picture = GFX_report_event_carol_meeting
	
	is_triggered_only = yes
	
	option = {#Yay
		name = ska.17.a
		set_country_flag = SKA_UNG_invade_rimatu
		custom_effect_tooltip = SKA_UNG_invade_rimatu_tt
	}
}